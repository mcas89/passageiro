<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>App Passageiro</title>

  <link rel="stylesheet" href="estilos.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>


  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
</head>
<body>

  <div id="mensagemErro" class="hidden"></div>

  <div class="container">
    <div id="loginSection">
      <h2><i class="fas fa-user"></i> Login</h2>
      <input type="text" id="cpf" placeholder="CPF" />
      <input type="password" id="senha" placeholder="Senha" />
      <button onclick="loginPassageiro()"><i class="fas fa-sign-in-alt"></i> Entrar</button>
      <p>Não tem cadastro? <a href="#" onclick="mostrarCadastro()">Cadastre-se</a></p>
    </div>

    <div id="cadastroSection" class="hidden">
      <h2><i class="fas fa-id-card"></i> Cadastro</h2>
      <input type="text" id="nomeCadastro" placeholder="Nome" />
      <input type="text" id="cpfCadastro" placeholder="CPF" />
      <input type="password" id="senhaCadastro" placeholder="Senha" />
      <input type="text" id="telefoneCadastro" placeholder="Telefone" />

      <select id="bairroCadastro">
        <option value="">bairro</option>
      </select>

      <button onclick="cadastrarPassageiro()"><i class="fas fa-user-plus"></i> Cadastrar</button>
      <p><a href="#" onclick="mostrarLogin()">Já tem conta? Login</a></p>
    </div>

    <div id="infoUsuario" class="topoIcons hidden">
      <div class="iconItem" onclick="editarPerfil()">
        <i class="fas fa-pen"></i>
        <span class="iconText">Editar</span>
      </div>

      <div class="iconItem">
        <i class="fas fa-map-marker-alt"></i>
        <span class="iconText" id="bairroUsuarioTexto"></span>
      </div>

      <div class="iconItem" onclick="mostrarHistoricoCorridas()">
        <i class="fas fa-history"></i>
        <span class="iconText">Histórico</span>
      </div>

      <div class="iconItem" onclick="logoutPassageiro()">
        <i class="fas fa-sign-out-alt"></i>
        <span class="iconText">Logout</span>
      </div>
    </div>

    <div id="editarPerfilForm" class="card hidden">
      <input type="text" id="editarNome" placeholder="Nome" />
      <input type="text" id="editarTelefone" placeholder="Telefone" />
      <select id="editarBairro">
        <option value="">Selecione o bairro</option>
        </select>
      <p id="mensagemErro" style="color: red; margin-top: 10px;"></p>
      <button id="btnSalvarPerfil" onclick="salvarPerfil()">Salvar</button>
      <button onclick="cancelarEdicao()" class="cancelar-btn">Cancelar</button>
    </div>

    <div id="popupErro" class="popup-erro hidden">
      <span id="popupErroTexto"></span>
    </div>

    <div class="card usuario-dados hidden ">
      <h3><i class="fas fa-user"></i> Bem-vindo, <span id="nomeUsuario"></span></h3>
      <p style="font-size: 0.9em;"><i class="fas fa-phone"></i> <span id="telefoneUsuario"></span></p>
    </div>

    <div class="card usuario-rotas hidden">
      <input type="text" id="partida" placeholder="Onde?" oninput="autocompleteEndereco(this, 'sugestoesPartida')" />
      <div id="sugestoesPartida" class="autocomplete-suggestions"></div>

      <input type="text" id="destino" placeholder="Para onde?" oninput="autocompleteEndereco(this, 'sugestoesDestino')" />
      <div id="sugestoesDestino" class="autocomplete-suggestions"></div>

      <button onclick="calcularRota()"><i class="fas fa-location-arrow"></i> OK</button>

      <div id="loadingMotorista" class="hidden">
        <p id="statusBusca">Procurando motorista <i class="fas fa-spinner fa-spin"></i></p>
        
        <div id="dadosMotorista" class="hidden">
          <p><strong>Motorista:</strong> <span id="nomeMotorista">-</span></p>
          <p><strong>Carro:</strong> <span id="carroMotorista">-</span></p>
          <p><strong>Placa:</strong> <span id="placaMotorista">-</span></p>
        </div>
      </div>


    <div id="infoMotorista" class="hidden card">
      <p><i class="fas fa-user-tie"></i> <span id="nomeMotorista">---</span></p>
      <p><i class="fas fa-car-side"></i> <span id="carroMotorista">---</span></p>
      <p><i class="fas fa-id-badge"></i> <span id="placaMotorista">---</span></p>
    </div>

    <div id="resumoCorrida" class="hidden card">
      <div class="linha-botoes">
        <button onclick="solicitarCorrida()"><i class="fas fa-check"></i> Solicitar</button>
        <button onclick="fecharcarddestino()" id="fecharcarddestino"><i class="fas fa-times"></i> Fechar</button>
      </div>

      <div class="botoes-acao">
        <button onclick="cancelarCorrida()" id="botaoCancelar"><i class="fas fa-ban"></i> Cancelar</button>
        <button onclick="finalizarCorrida()"><i class="fas fa-flag-checkered"></i> Finalizar</button>
      </div>

      <div class="linha-info">
        <p><i class="fas fa-coins"></i> R$ <span id="precoEstimado"></span></p>
        <p><i class="fas fa-road"></i> <span id="distanciaTotal"></span> km</p>
      </div>

      <p><i class="fas fa-map-marker-alt"></i> <span id="resumoPartida"></span></p>
      <p><i class="fas fa-map-pin"></i> <span id="resumoDestino"></span></p>

      <div id="mapaResumo"></div>
    </div>
  </div>
  
  <div id="popupMensagem" class="popup hidden">
  <span id="popupTexto"></span>
  <button onclick="fecharPopup()">OK</button>
</div>

<div id="cardResumoCorrida" class="card-resumo hidden">
  <h2>Corrida Finalizada</h2>
  <p><strong>De:</strong> <span id="resumoPartidaCard"></span></p>
  <p><strong>Para:</strong> <span id="resumoDestinoCard"></span></p>
  <p><strong>Distância:</strong> <span id="resumoDistanciaCard"></span> km</p>
  <p><strong>Motorista:</strong> <span id="resumoMotoristaCard"></span></p>
  <p class="valor-a-pagar">Total a pagar:<br><span id="resumoPrecoCard"></span></p>

  <button onclick="fecharCardResumoCorrida()">OK</button>
</div>

<div id="cardHistorico" class="card-historico hidden">
  <div class="header-historico">
    <h2>Histórico de Corridas</h2>
    <button class="fechar-btn" onclick="fecharCardHistorico()">&times;</button>
  </div>
  <div id="listaHistorico" class="lista-corridas"></div>
</div>




  <script src="script.js"></script>
</body>
</html>
